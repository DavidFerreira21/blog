<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Guia rápido: Kind no WSL com Docker Desktop | David Ferreira — Cloud & Platform Engineering</title>
<meta name=keywords content="k8s,kubernetes,kind,wsl2,docker-desktop,windows"><meta name=description content="Guia rápido: Kind no WSL com Docker Desktop
Este guia mostra como preparar o WSL2, integrar o Docker Desktop e subir um cluster Kind local para testes e laboratórios.
Pré-requisitos (Windows)
1) Instalar/ativar o WSL e definir o Ubuntu como padrão
Abra o PowerShell como Administrador e execute:
wsl --install
wsl --set-default-version 2
wsl --install -d Ubuntu
Defina o Ubuntu como distribuição padrão:
wsl --set-default Ubuntu
Reinicie o Windows se for solicitado."><meta name=author content><link rel=canonical href=https://davidferreira21.github.io/blog/posts/install-kind/><link crossorigin=anonymous href=/blog/assets/css/stylesheet.45f79e6c2d3ee5beb380637ec15ec3e9c68cbc883075b8192a307337c68f8084.css integrity="sha256-RfeebC0+5b6zgGN+wV7D6caMvIgwdbgZKjBzN8aPgIQ=" rel="preload stylesheet" as=style><link rel=icon href=https://davidferreira21.github.io/blog/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://davidferreira21.github.io/blog/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://davidferreira21.github.io/blog/favicon-32x32.png><link rel=apple-touch-icon href=https://davidferreira21.github.io/blog/apple-touch-icon.png><link rel=mask-icon href=https://davidferreira21.github.io/blog/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://davidferreira21.github.io/blog/posts/install-kind/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta property="og:url" content="https://davidferreira21.github.io/blog/posts/install-kind/"><meta property="og:site_name" content="David Ferreira — Cloud & Platform Engineering"><meta property="og:title" content="Guia rápido: Kind no WSL com Docker Desktop"><meta property="og:description" content="Guia rápido: Kind no WSL com Docker Desktop Este guia mostra como preparar o WSL2, integrar o Docker Desktop e subir um cluster Kind local para testes e laboratórios.
Pré-requisitos (Windows) 1) Instalar/ativar o WSL e definir o Ubuntu como padrão Abra o PowerShell como Administrador e execute:
wsl --install wsl --set-default-version 2 wsl --install -d Ubuntu Defina o Ubuntu como distribuição padrão:
wsl --set-default Ubuntu Reinicie o Windows se for solicitado."><meta property="og:locale" content="pt-br"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2026-01-28T00:00:00+00:00"><meta property="article:modified_time" content="2026-01-28T00:00:00+00:00"><meta property="article:tag" content="K8s"><meta property="article:tag" content="Kubernetes"><meta property="article:tag" content="Kind"><meta property="article:tag" content="Wsl2"><meta property="article:tag" content="Docker-Desktop"><meta property="article:tag" content="Windows"><meta property="og:image" content="https://davidferreira21.github.io/blog/images/kind-wsl-cover.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://davidferreira21.github.io/blog/images/kind-wsl-cover.png"><meta name=twitter:title content="Guia rápido: Kind no WSL com Docker Desktop"><meta name=twitter:description content="Guia rápido: Kind no WSL com Docker Desktop
Este guia mostra como preparar o WSL2, integrar o Docker Desktop e subir um cluster Kind local para testes e laboratórios.
Pré-requisitos (Windows)
1) Instalar/ativar o WSL e definir o Ubuntu como padrão
Abra o PowerShell como Administrador e execute:
wsl --install
wsl --set-default-version 2
wsl --install -d Ubuntu
Defina o Ubuntu como distribuição padrão:
wsl --set-default Ubuntu
Reinicie o Windows se for solicitado."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://davidferreira21.github.io/blog/posts/"},{"@type":"ListItem","position":2,"name":"Guia rápido: Kind no WSL com Docker Desktop","item":"https://davidferreira21.github.io/blog/posts/install-kind/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Guia rápido: Kind no WSL com Docker Desktop","name":"Guia rápido: Kind no WSL com Docker Desktop","description":"Guia rápido: Kind no WSL com Docker Desktop Este guia mostra como preparar o WSL2, integrar o Docker Desktop e subir um cluster Kind local para testes e laboratórios.\nPré-requisitos (Windows) 1) Instalar/ativar o WSL e definir o Ubuntu como padrão Abra o PowerShell como Administrador e execute:\nwsl --install wsl --set-default-version 2 wsl --install -d Ubuntu Defina o Ubuntu como distribuição padrão:\nwsl --set-default Ubuntu Reinicie o Windows se for solicitado.\n","keywords":["k8s","kubernetes","kind","wsl2","docker-desktop","windows"],"articleBody":"Guia rápido: Kind no WSL com Docker Desktop Este guia mostra como preparar o WSL2, integrar o Docker Desktop e subir um cluster Kind local para testes e laboratórios.\nPré-requisitos (Windows) 1) Instalar/ativar o WSL e definir o Ubuntu como padrão Abra o PowerShell como Administrador e execute:\nwsl --install wsl --set-default-version 2 wsl --install -d Ubuntu Defina o Ubuntu como distribuição padrão:\nwsl --set-default Ubuntu Reinicie o Windows se for solicitado.\n2) Instalar o Docker Desktop Baixe e instale o Docker Desktop para Windows. Abra o Docker Desktop e finalize o onboarding. 3) Habilitar WSL Integration no Docker Desktop No Docker Desktop:\nSettings → Resources → WSL Integration Marque Enable integration with my default WSL distro Ative a integração para Ubuntu Clique em Apply \u0026 Restart 4) Validar WSL + Docker dentro do Ubuntu Abra o Ubuntu (WSL) e rode:\nwsl --list --verbose docker version docker ps Siga adiante somente se o Docker estiver respondendo sem erros dentro do Ubuntu.\nInstalar o Kind curl -Lo ./kind https://kind.sigs.k8s.io/dl/v0.23.0/kind-linux-amd64 chmod +x kind sudo mv kind /usr/local/bin/kind Instalar o kubectl (se ainda não tiver) sudo apt-get update sudo apt-get install -y kubectl Validar Docker + Kind docker ps # verifica se o Docker Engine está rodando kind version # confirma se o Kind está acessível Siga apenas se ambos os comandos executarem sem erros.\nCriar o cluster Kind Crie um arquivo kind-config.yaml (exemplo abaixo) e ajuste se necessário: kind: Cluster apiVersion: kind.x-k8s.io/v1alpha4 nodes: - role: control-plane kubeadmConfigPatches: - | kind: InitConfiguration nodeRegistration: kubeletExtraArgs: node-labels: \"ingress-ready=true\" extraPortMappings: - containerPort: 80 hostPort: 80 - containerPort: 443 hostPort: 443 - role: worker - role: worker Crie um arquivo test-deploy.yaml: apiVersion: apps/v1 kind: Deployment metadata: name: http-echo-deployment labels: app: http-echo spec: replicas: 1 selector: matchLabels: app: http-echo template: metadata: labels: app: http-echo spec: containers: - name: http-echo image: hashicorp/http-echo:0.2.3 args: - \"-text=ok\" ports: - containerPort: 5678 --- apiVersion: v1 kind: Service metadata: name: http-echo-svc spec: selector: app: http-echo ports: - port: 80 targetPort: 5678 --- apiVersion: networking.k8s.io/v1 kind: Ingress metadata: name: http-echo-ingress spec: ingressClassName: nginx rules: - host: echo.local http: paths: - path: / pathType: Prefix backend: service: name: http-echo-svc port: number: 80 Crie um arquivo Makefile: create-cluster: kind create cluster --name dev --config kind-config.yaml delete-cluster: kind delete cluster --name dev test-deploy: kubectl apply -f test-deploy.yaml kubectl get pods -l app=http-echo kubectl get endpoints http-echo-svc config-bash: sudo apt-get update sudo apt-get install -y bash-completion kubectl completion bash | sudo tee /etc/bash_completion.d/kubectl \u003e /dev/null echo 'alias k=kubectl' \u003e\u003e~/.bashrc echo 'complete -o default -F __start_kubectl k' \u003e\u003e~/.bashrc install-nginx: kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/main/deploy/static/provider/kind/deploy.yaml kubectl -n ingress-nginx patch deploy ingress-nginx-controller --type='json' -p='[{\"op\":\"add\",\"path\":\"/spec/template/spec/nodeSelector\",\"value\":{\"ingress-ready\":\"true\",\"kubernetes.io/os\":\"linux\"}}]' kubectl -n ingress-nginx patch deploy ingress-nginx-controller --type='json' -p='[{\"op\":\"add\",\"path\":\"/spec/template/spec/containers/0/ports/0/hostPort\",\"value\":80},{\"op\":\"add\",\"path\":\"/spec/template/spec/containers/0/ports/1/hostPort\",\"value\":443}]' kubectl wait --namespace ingress-nginx --for=condition=Ready pod --selector=app.kubernetes.io/component=controller --timeout=180s O que cada comando do Makefile faz:\nmake create-cluster: cria o cluster dev usando o kind-config.yaml. make delete-cluster: remove o cluster dev. make test-deploy: aplica o deploy de teste e mostra pods/endpoints. make config-bash: instala bash-completion e configura auto-complete/alias do kubectl. make install-nginx: instala o Ingress NGINX e aguarda o controller ficar pronto. Execute na ordem sugerida: make create-cluster make install-nginx make test-deploy Para testar o Ingress, adicione um host local ou use curl com o header:\ncurl -H \"Host: echo.local\" http://localhost Dicas rápidas Caso não tenha o make instalado, rode sudo apt-get install -y make. Se o Docker não responder no WSL, reinicie o Docker Desktop. Garanta que a integração WSL esteja ativa para a distro Ubuntu. Evite nomes de cluster duplicados se estiver testando mais de um. ","wordCount":"577","inLanguage":"en","image":"https://davidferreira21.github.io/blog/images/kind-wsl-cover.png","datePublished":"2026-01-28T00:00:00Z","dateModified":"2026-01-28T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://davidferreira21.github.io/blog/posts/install-kind/"},"publisher":{"@type":"Organization","name":"David Ferreira — Cloud \u0026 Platform Engineering","logo":{"@type":"ImageObject","url":"https://davidferreira21.github.io/blog/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://davidferreira21.github.io/blog/ accesskey=h title="David Ferreira — Cloud & Platform Engineering (Alt + H)">David Ferreira — Cloud & Platform Engineering</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://davidferreira21.github.io/blog/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://davidferreira21.github.io/blog/categories/arquitetura/ title=Arquitetura><span>Arquitetura</span></a></li><li><a href=https://davidferreira21.github.io/blog/categories/cloud/ title=Cloud><span>Cloud</span></a></li><li><a href=https://davidferreira21.github.io/blog/categories/devops/ title=DevOps><span>DevOps</span></a></li><li><a href=https://davidferreira21.github.io/blog/sobre/ title=Sobre><span>Sobre</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Guia rápido: Kind no WSL com Docker Desktop</h1><div class=post-meta><span title='2026-01-28 00:00:00 +0000 UTC'>January 28, 2026</span>&nbsp;·&nbsp;<span>3 min</span></div></header><figure class=entry-cover><img loading=eager src=https://davidferreira21.github.io/blog/images/kind-wsl-cover.png alt="Arte abstrata para post sobre Kind no WSL"></figure><div class=post-content><h1 id=guia-rápido-kind-no-wsl-com-docker-desktop>Guia rápido: Kind no WSL com Docker Desktop<a hidden class=anchor aria-hidden=true href=#guia-rápido-kind-no-wsl-com-docker-desktop>#</a></h1><p>Este guia mostra como preparar o WSL2, integrar o Docker Desktop e subir um cluster Kind local para testes e laboratórios.</p><h2 id=pré-requisitos-windows>Pré-requisitos (Windows)<a hidden class=anchor aria-hidden=true href=#pré-requisitos-windows>#</a></h2><h3 id=1-instalarativar-o-wsl-e-definir-o-ubuntu-como-padrão>1) Instalar/ativar o WSL e definir o Ubuntu como padrão<a hidden class=anchor aria-hidden=true href=#1-instalarativar-o-wsl-e-definir-o-ubuntu-como-padrão>#</a></h3><p>Abra o PowerShell como Administrador e execute:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>wsl --install
</span></span><span style=display:flex><span>wsl --set-default-version <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>wsl --install -d Ubuntu
</span></span></code></pre></div><p>Defina o Ubuntu como distribuição padrão:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>wsl --set-default Ubuntu
</span></span></code></pre></div><p>Reinicie o Windows se for solicitado.</p><h3 id=2-instalar-o-docker-desktop>2) Instalar o Docker Desktop<a hidden class=anchor aria-hidden=true href=#2-instalar-o-docker-desktop>#</a></h3><ol><li>Baixe e instale o Docker Desktop para Windows.</li><li>Abra o Docker Desktop e finalize o onboarding.</li></ol><h3 id=3-habilitar-wsl-integration-no-docker-desktop>3) Habilitar WSL Integration no Docker Desktop<a hidden class=anchor aria-hidden=true href=#3-habilitar-wsl-integration-no-docker-desktop>#</a></h3><p>No Docker Desktop:</p><ol><li><strong>Settings</strong> → <strong>Resources</strong> → <strong>WSL Integration</strong></li><li>Marque <strong>Enable integration with my default WSL distro</strong></li><li>Ative a integração para <strong>Ubuntu</strong></li><li>Clique em <strong>Apply & Restart</strong></li></ol><h3 id=4-validar-wsl--docker-dentro-do-ubuntu>4) Validar WSL + Docker dentro do Ubuntu<a hidden class=anchor aria-hidden=true href=#4-validar-wsl--docker-dentro-do-ubuntu>#</a></h3><p>Abra o Ubuntu (WSL) e rode:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>wsl --list --verbose
</span></span><span style=display:flex><span>docker version
</span></span><span style=display:flex><span>docker ps
</span></span></code></pre></div><p>Siga adiante somente se o Docker estiver respondendo sem erros dentro do Ubuntu.</p><h2 id=instalar-o-kind>Instalar o Kind<a hidden class=anchor aria-hidden=true href=#instalar-o-kind>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -Lo ./kind https://kind.sigs.k8s.io/dl/v0.23.0/kind-linux-amd64
</span></span><span style=display:flex><span>chmod +x kind
</span></span><span style=display:flex><span>sudo mv kind /usr/local/bin/kind
</span></span></code></pre></div><h2 id=instalar-o-kubectl-se-ainda-não-tiver>Instalar o kubectl (se ainda não tiver)<a hidden class=anchor aria-hidden=true href=#instalar-o-kubectl-se-ainda-não-tiver>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt-get update
</span></span><span style=display:flex><span>sudo apt-get install -y kubectl
</span></span></code></pre></div><h2 id=validar-docker--kind>Validar Docker + Kind<a hidden class=anchor aria-hidden=true href=#validar-docker--kind>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker ps        <span style=color:#75715e># verifica se o Docker Engine está rodando</span>
</span></span><span style=display:flex><span>kind version     <span style=color:#75715e># confirma se o Kind está acessível</span>
</span></span></code></pre></div><p>Siga apenas se ambos os comandos executarem sem erros.</p><h2 id=criar-o-cluster-kind>Criar o cluster Kind<a hidden class=anchor aria-hidden=true href=#criar-o-cluster-kind>#</a></h2><ol><li>Crie um arquivo <code>kind-config.yaml</code> (exemplo abaixo) e ajuste se necessário:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Cluster</span>
</span></span><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>kind.x-k8s.io/v1alpha4</span>
</span></span><span style=display:flex><span><span style=color:#f92672>nodes</span>:
</span></span><span style=display:flex><span>  - <span style=color:#f92672>role</span>: <span style=color:#ae81ff>control-plane</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>kubeadmConfigPatches</span>:
</span></span><span style=display:flex><span>      - |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        kind: InitConfiguration
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        nodeRegistration:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          kubeletExtraArgs:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            node-labels: &#34;ingress-ready=true&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>extraPortMappings</span>:
</span></span><span style=display:flex><span>      - <span style=color:#f92672>containerPort</span>: <span style=color:#ae81ff>80</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>hostPort</span>: <span style=color:#ae81ff>80</span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>containerPort</span>: <span style=color:#ae81ff>443</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>hostPort</span>: <span style=color:#ae81ff>443</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  - <span style=color:#f92672>role</span>: <span style=color:#ae81ff>worker</span>
</span></span><span style=display:flex><span>  - <span style=color:#f92672>role</span>: <span style=color:#ae81ff>worker</span>
</span></span></code></pre></div><ol start=2><li>Crie um arquivo <code>test-deploy.yaml</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>apps/v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Deployment</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>http-echo-deployment</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>labels</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>app</span>: <span style=color:#ae81ff>http-echo</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>replicas</span>: <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>selector</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>matchLabels</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>app</span>: <span style=color:#ae81ff>http-echo</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>template</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>labels</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>app</span>: <span style=color:#ae81ff>http-echo</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>containers</span>:
</span></span><span style=display:flex><span>        - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>http-echo</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>image</span>: <span style=color:#ae81ff>hashicorp/http-echo:0.2.3</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>args</span>:
</span></span><span style=display:flex><span>            - <span style=color:#e6db74>&#34;-text=ok&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>ports</span>:
</span></span><span style=display:flex><span>            - <span style=color:#f92672>containerPort</span>: <span style=color:#ae81ff>5678</span>
</span></span><span style=display:flex><span>---
</span></span><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Service</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>http-echo-svc</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>selector</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>app</span>: <span style=color:#ae81ff>http-echo</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>ports</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>port</span>: <span style=color:#ae81ff>80</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>targetPort</span>: <span style=color:#ae81ff>5678</span>
</span></span><span style=display:flex><span>---
</span></span><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>networking.k8s.io/v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Ingress</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>http-echo-ingress</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>ingressClassName</span>: <span style=color:#ae81ff>nginx</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>rules</span>:
</span></span><span style=display:flex><span>  - <span style=color:#f92672>host</span>: <span style=color:#ae81ff>echo.local</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>http</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>paths</span>:
</span></span><span style=display:flex><span>        - <span style=color:#f92672>path</span>: <span style=color:#ae81ff>/</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>pathType</span>: <span style=color:#ae81ff>Prefix</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>backend</span>:
</span></span><span style=display:flex><span>            <span style=color:#f92672>service</span>:
</span></span><span style=display:flex><span>              <span style=color:#f92672>name</span>: <span style=color:#ae81ff>http-echo-svc</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>port</span>:
</span></span><span style=display:flex><span>                <span style=color:#f92672>number</span>: <span style=color:#ae81ff>80</span>
</span></span></code></pre></div><ol start=3><li>Crie um arquivo <code>Makefile</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-makefile data-lang=makefile><span style=display:flex><span><span style=color:#a6e22e>create-cluster</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>	kind create cluster --name dev --config kind-config.yaml
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>delete-cluster</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>	kind delete cluster --name dev
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>test-deploy</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>	kubectl apply -f test-deploy.yaml
</span></span><span style=display:flex><span>	kubectl get pods -l app<span style=color:#f92672>=</span>http-echo
</span></span><span style=display:flex><span>	kubectl get endpoints http-echo-svc
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>config-bash</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>	sudo apt-get update
</span></span><span style=display:flex><span>	sudo apt-get install -y bash-completion
</span></span><span style=display:flex><span>	kubectl completion bash | sudo tee /etc/bash_completion.d/kubectl &gt; /dev/null
</span></span><span style=display:flex><span>	echo <span style=color:#e6db74>&#39;alias k=kubectl&#39;</span> &gt;&gt;~/.bashrc
</span></span><span style=display:flex><span>	echo <span style=color:#e6db74>&#39;complete -o default -F __start_kubectl k&#39;</span> &gt;&gt;~/.bashrc
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>install-nginx</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>	kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/main/deploy/static/provider/kind/deploy.yaml
</span></span><span style=display:flex><span>	kubectl -n ingress-nginx patch deploy ingress-nginx-controller --type<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;json&#39;</span> -p<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;[{&#34;op&#34;:&#34;add&#34;,&#34;path&#34;:&#34;/spec/template/spec/nodeSelector&#34;,&#34;value&#34;:{&#34;ingress-ready&#34;:&#34;true&#34;,&#34;kubernetes.io/os&#34;:&#34;linux&#34;}}]&#39;</span>
</span></span><span style=display:flex><span>	kubectl -n ingress-nginx patch deploy ingress-nginx-controller --type<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;json&#39;</span> -p<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;[{&#34;op&#34;:&#34;add&#34;,&#34;path&#34;:&#34;/spec/template/spec/containers/0/ports/0/hostPort&#34;,&#34;value&#34;:80},{&#34;op&#34;:&#34;add&#34;,&#34;path&#34;:&#34;/spec/template/spec/containers/0/ports/1/hostPort&#34;,&#34;value&#34;:443}]&#39;</span>
</span></span><span style=display:flex><span>	kubectl wait --namespace ingress-nginx --for<span style=color:#f92672>=</span>condition<span style=color:#f92672>=</span>Ready pod --selector<span style=color:#f92672>=</span>app.kubernetes.io/component<span style=color:#f92672>=</span>controller --timeout<span style=color:#f92672>=</span>180s
</span></span></code></pre></div><p>O que cada comando do Makefile faz:</p><ul><li><code>make create-cluster</code>: cria o cluster <code>dev</code> usando o <code>kind-config.yaml</code>.</li><li><code>make delete-cluster</code>: remove o cluster <code>dev</code>.</li><li><code>make test-deploy</code>: aplica o deploy de teste e mostra pods/endpoints.</li><li><code>make config-bash</code>: instala bash-completion e configura auto-complete/alias do <code>kubectl</code>.</li><li><code>make install-nginx</code>: instala o Ingress NGINX e aguarda o controller ficar pronto.</li></ul><ol start=4><li>Execute na ordem sugerida:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>make create-cluster
</span></span><span style=display:flex><span>make install-nginx
</span></span><span style=display:flex><span>make test-deploy
</span></span></code></pre></div><p>Para testar o Ingress, adicione um host local ou use <code>curl</code> com o header:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -H <span style=color:#e6db74>&#34;Host: echo.local&#34;</span> http://localhost
</span></span></code></pre></div><h2 id=dicas-rápidas>Dicas rápidas<a hidden class=anchor aria-hidden=true href=#dicas-rápidas>#</a></h2><ul><li>Caso não tenha o <code>make</code> instalado, rode <code>sudo apt-get install -y make</code>.</li><li>Se o Docker não responder no WSL, reinicie o Docker Desktop.</li><li>Garanta que a integração WSL esteja ativa para a distro Ubuntu.</li><li>Evite nomes de cluster duplicados se estiver testando mais de um.</li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://davidferreira21.github.io/blog/tags/k8s/>K8s</a></li><li><a href=https://davidferreira21.github.io/blog/tags/kubernetes/>Kubernetes</a></li><li><a href=https://davidferreira21.github.io/blog/tags/kind/>Kind</a></li><li><a href=https://davidferreira21.github.io/blog/tags/wsl2/>Wsl2</a></li><li><a href=https://davidferreira21.github.io/blog/tags/docker-desktop/>Docker-Desktop</a></li><li><a href=https://davidferreira21.github.io/blog/tags/windows/>Windows</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2026 <a href=https://davidferreira21.github.io/blog/>David Ferreira — Cloud & Platform Engineering</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><div class=custom-footer><div class=custom-footer__inner><div class=custom-footer__cta><p class=custom-footer__title>Quer receber atualizações?</p><p class=custom-footer__subtitle>Inscreva-se para não perder novos posts sobre cloud, arquitetura e devops.</p></div><form class=custom-footer__subscribe action=# method=post><label for=subscribe-email>Newsletter</label><div class=custom-footer__subscribe-row><input id=subscribe-email name=email type=email placeholder="Seu melhor e-mail" required>
<button type=submit>Assinar</button></div></form></div><div class=custom-footer__divider></div><div class=custom-footer__bottom><div class=custom-footer__brand><span class=custom-footer__name>David Ferreira — Cloud & Platform Engineering</span>
<span class=custom-footer__theme>Cloud • Platform Engineering • DevOps</span></div><div class=custom-footer__links><a class=custom-footer__link href=/blog/sobre/>Sobre mim</a>
<a class=custom-footer__link href=https://www.linkedin.com/in/davidferreirams/ rel=noopener target=_blank><span class=custom-footer__icon aria-hidden=true><svg viewBox="0 0 24 24" role="img" aria-label="LinkedIn"><path d="M20.45 20.45H17V14.86c0-1.33-.02-3.04-1.85-3.04-1.85.0-2.13 1.45-2.13 2.95v5.68H9.56V9h3.32v1.56h.05c.46-.88 1.58-1.8 3.26-1.8 3.49.0 4.13 2.3 4.13 5.29v6.4zM5.34 7.43a1.94 1.94.0 110-3.88 1.94 1.94.0 010 3.88zM6.95 20.45H3.72V9H6.95v11.45z"/></svg>
</span>LinkedIn</a></div></div></div><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>